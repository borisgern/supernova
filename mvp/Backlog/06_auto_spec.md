## Dynamic Setup Engine (DSE)

### Проблема  
Пользователь не может гибко редактировать базовые ритуалы (утро, вечер, советы) и мгновенно видеть изменения во всех связных шаблонах системы.

### Цели  
1. Дать возможность править «сетапы» (утренний протокол, чек-листы и т.п.) через UI/чат.  
2. Автоматически прокидывать изменения в:  
   - `/start`, `/finish`, ежедневные советы;  
   - шаблоны `00_start_template.md`, `00_finish_template.md`;  
   - weekly / monthly обзоры.  

### Требования  
| № | Требование | Приемочный тест |
|---|------------|-----------------|
| 1 | CRUD-интерфейс для любого сетап-блока | Сохранил новую активность → появляется в следующем `/start` |
| 2 | Явная карта зависимостей элементов | Изменил блок «Физика» → обновились все документы, где он фигурирует |
| 3 | Версионирование | Можно откатить сетап к предыдущей версии одной командой |
| 4 | Логи изменений | В `05_daily_log.md` фиксируется diff сетапа |

### Архитектурные заметки  
- Храним сетапы в одном YAML/JSON-файле, остальные MD-шаблоны тянут данные через плейс-холдеры.  
- «Карта зависимостей» = Directed Graph; обновление по событию `setup.updated`.  
- CLI-/chat-команда `/setup edit <section>` открывает форму с текущими полями.  

### Открытые вопросы  
1. Где хранить версии (отдельная папка `/revisions` или git-branch)?  
2. Как решать конфликты, если изменение приходит во время активного `/start`?  
3. Нужна ли поддержка нескольких пресетов (рабочий день / выходной)?  

### Next steps  
- [ ] Согласовать формат единого файла сетапов.  
- [ ] Прописать события и обработчики `setup.updated`.  
- [ ] Спайк-прототип (скрипт автоподстановки в `00_start_template.md`).
